import { useFieldArray, useFormContext } from "react-hook-form";
import { IEditedVaultDescription } from "../types";
import VulnerabilitySeverityForm from "./VulnerabilitySeverityForm/VulnerabilitySeverityForm";

export function VulnerabilitySeveritiesList() {
  const { control } = useFormContext<IEditedVaultDescription>();
  const { fields: severities, append, remove } = useFieldArray({ control, name: "severitiesTemplate.severities" });

  return (
    <>
      {severities.map((severity, index) => (
        <VulnerabilitySeverityForm key={severity.id} index={index} append={append} remove={remove} />
      ))}
    </>
  );
}
